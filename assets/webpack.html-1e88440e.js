import{_ as n,o as s,c as a,a as e}from"./app-1a153d54.js";const t={},p=e(`<h1 id="webpack-è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#webpack-è¯¦è§£" aria-hidden="true">#</a> <strong>Webpack è¯¦è§£</strong></h1><h2 id="ä¸€ã€webpack-æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€webpack-æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> <strong>ä¸€ã€Webpack æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2><p>Webpack æ˜¯ä¸€ä¸ª <strong>å‰ç«¯æ¨¡å—æ‰“åŒ…å·¥å…·ï¼ˆModule Bundlerï¼‰</strong>ï¼Œå¯ä»¥å°† JavaScriptã€CSSã€HTMLã€å›¾ç‰‡ç­‰èµ„æºè¿›è¡Œæ‰“åŒ…ã€ä¼˜åŒ–ï¼Œæœ€ç»ˆè¾“å‡ºæµè§ˆå™¨å¯ä»¥è¿è¡Œçš„ä»£ç ã€‚</p><h3 id="_1-webpack-çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_1-webpack-çš„ä½œç”¨" aria-hidden="true">#</a> <strong>1. Webpack çš„ä½œç”¨</strong></h3><p>âœ… <strong>æ¨¡å—åŒ–æ”¯æŒ</strong>ï¼šå…¼å®¹ ES Modulesã€CommonJSã€AMD ç­‰æ¨¡å—æ ¼å¼ã€‚ âœ… <strong>ä»£ç æ‹†åˆ†ï¼ˆCode Splittingï¼‰</strong>ï¼šæŒ‰éœ€åŠ è½½ï¼Œæå‡æ€§èƒ½ã€‚ âœ… <strong>èµ„æºä¼˜åŒ–</strong>ï¼šæ”¯æŒ CSSã€å›¾ç‰‡ã€å­—ä½“ç­‰èµ„æºçš„ä¼˜åŒ–å’Œå‹ç¼©ã€‚ âœ… <strong>çƒ­æ›´æ–°ï¼ˆHMRï¼‰</strong>ï¼šä¿®æ”¹ä»£ç åï¼Œè‡ªåŠ¨æ›´æ–°æµè§ˆå™¨é¡µé¢ã€‚ âœ… <strong>æ’ä»¶æ‰©å±•ï¼ˆPluginsï¼‰</strong>ï¼šå¯é€šè¿‡æ’ä»¶å¢å¼ºåŠŸèƒ½ï¼Œå¦‚è‡ªåŠ¨ç”Ÿæˆ HTMLã€æ¸…ç†æ–‡ä»¶ç­‰ã€‚</p><hr><h2 id="äºŒã€webpack-çš„æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#äºŒã€webpack-çš„æ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true">#</a> <strong>äºŒã€Webpack çš„æ ¸å¿ƒæ¦‚å¿µ</strong></h2><p>Webpack çš„å·¥ä½œæµç¨‹å¯ä»¥åˆ†ä¸º <strong>å…¥å£ï¼ˆEntryï¼‰â†’ è§£æï¼ˆLoadersï¼‰â†’ æ’ä»¶ï¼ˆPluginsï¼‰â†’ è¾“å‡ºï¼ˆOutputï¼‰</strong> è¿™å››ä¸ªæ ¸å¿ƒæ­¥éª¤ã€‚</p><h3 id="_1-entry-å…¥å£" tabindex="-1"><a class="header-anchor" href="#_1-entry-å…¥å£" aria-hidden="true">#</a> <strong>1. Entryï¼ˆå…¥å£ï¼‰</strong></h3><p>Webpack éœ€è¦æŒ‡å®šä¸€ä¸ª <strong>å…¥å£æ–‡ä»¶</strong> ä½œä¸ºæ‰“åŒ…çš„èµ·ç‚¹ï¼Œé€šå¸¸æ˜¯ <code>index.js</code>ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span>  <span class="token comment">// å…¥å£æ–‡ä»¶</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2-output-è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#_2-output-è¾“å‡º" aria-hidden="true">#</a> <strong>2. Outputï¼ˆè¾“å‡ºï¼‰</strong></h3><p>Webpack å°†å¤„ç†åçš„ä»£ç è¾“å‡ºåˆ°æŒ‡å®šçš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ä¸­ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">// è¾“å‡ºç›®å½•</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span>  <span class="token comment">// è¾“å‡ºæ–‡ä»¶å</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_3-loaders-åŠ è½½å™¨" tabindex="-1"><a class="header-anchor" href="#_3-loaders-åŠ è½½å™¨" aria-hidden="true">#</a> <strong>3. Loadersï¼ˆåŠ è½½å™¨ï¼‰</strong></h3><p>Loaders ç”¨äº <strong>è½¬æ¢é JavaScript ä»£ç </strong>ï¼Œæ¯”å¦‚ TypeScriptã€SCSSã€å›¾ç‰‡ç­‰ã€‚</p><ul><li><strong>å¤„ç† JavaScriptï¼ˆES6+ è½¬ ES5ï¼‰</strong></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// åŒ¹é… JS æ–‡ä»¶</span>
      <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// æ’é™¤ node_modules</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span> <span class="token comment">// ä½¿ç”¨ Babel è¿›è¡Œè½¬æ¢</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>å¤„ç† CSS</strong></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// åŒ¹é… CSS æ–‡ä»¶</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">]</span> <span class="token comment">// ä¾æ¬¡ä½¿ç”¨ä¸¤ä¸ª Loader</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>å¤„ç† å›¾ç‰‡</strong></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(png|jpg|jpeg|gif|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span> <span class="token comment">// ç›´æ¥å¤åˆ¶æ–‡ä»¶åˆ° dist ç›®å½•</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_4-plugins-æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_4-plugins-æ’ä»¶" aria-hidden="true">#</a> <strong>4. Pluginsï¼ˆæ’ä»¶ï¼‰</strong></h3><p>Plugins ç”¨äº <strong>å¢å¼º Webpack çš„åŠŸèƒ½</strong>ï¼Œå¦‚å‹ç¼©ä»£ç ã€ç”Ÿæˆ HTMLã€æ¸…ç†æ–‡ä»¶ç­‰ã€‚</p><ul><li><strong>è‡ªåŠ¨ç”Ÿæˆ HTML</strong></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.html&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// ä½¿ç”¨æ¨¡æ¿</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span>  <span class="token comment">// ç”Ÿæˆçš„æ–‡ä»¶å</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>æ¸…ç† dist ç›®å½•</strong></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_5-devserver-å¼€å‘æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#_5-devserver-å¼€å‘æœåŠ¡å™¨" aria-hidden="true">#</a> <strong>5. DevServerï¼ˆå¼€å‘æœåŠ¡å™¨ï¼‰</strong></h3><p>Webpack å…è®¸å¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡å™¨ï¼Œæ”¯æŒ <strong>çƒ­æ›´æ–°ï¼ˆHMRï¼‰</strong>ï¼Œä¸éœ€è¦åˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°ä»£ç å˜æ›´ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// é™æ€èµ„æºç›®å½•</span>
  <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// å¼€å¯çƒ­æ›´æ–°</span>
  <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span>  <span class="token comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œå‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>npx webpack serve
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h2 id="ä¸‰ã€webpack-é…ç½®ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€webpack-é…ç½®ç¤ºä¾‹" aria-hidden="true">#</a> <strong>ä¸‰ã€Webpack é…ç½®ç¤ºä¾‹</strong></h2><p>å®Œæ•´çš„ <code>webpack.config.js</code> é…ç½®ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å…¥å£æ–‡ä»¶</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(png|jpg|jpeg|gif|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> <span class="token string">&#39;./dist&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å››ã€webpack-è¿›é˜¶åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#å››ã€webpack-è¿›é˜¶åŠŸèƒ½" aria-hidden="true">#</a> <strong>å››ã€Webpack è¿›é˜¶åŠŸèƒ½</strong></h2><h3 id="_1-ä»£ç åˆ†å‰²-code-splitting" tabindex="-1"><a class="header-anchor" href="#_1-ä»£ç åˆ†å‰²-code-splitting" aria-hidden="true">#</a> <strong>1. ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰</strong></h3><p>Webpack å…è®¸å°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œæé«˜åŠ è½½æ€§èƒ½ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// ä»£ç åˆ†å‰²ç­–ç•¥</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-tree-shaking" tabindex="-1"><a class="header-anchor" href="#_2-tree-shaking" aria-hidden="true">#</a> <strong>2. Tree Shaking</strong></h3><p>Webpack å¯ä»¥è‡ªåŠ¨åˆ é™¤ <strong>æ— ç”¨ä»£ç ï¼ˆDead Code Eliminationï¼‰</strong>ï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// å¯ç”¨ Tree Shaking</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="äº”ã€webpack-å’Œ-vite-çš„å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#äº”ã€webpack-å’Œ-vite-çš„å¯¹æ¯”" aria-hidden="true">#</a> <strong>äº”ã€Webpack å’Œ Vite çš„å¯¹æ¯”</strong></h2><table><thead><tr><th>ç»´åº¦</th><th>Webpack</th><th>Vite</th></tr></thead><tbody><tr><td><strong>å¯åŠ¨é€Ÿåº¦</strong></td><td>æ…¢ï¼Œéœ€æ‰“åŒ…æ•´ä¸ªé¡¹ç›®</td><td>å¿«ï¼ŒæŒ‰éœ€åŠ è½½</td></tr><tr><td><strong>çƒ­æ›´æ–°</strong></td><td>æ…¢</td><td>å¿«ï¼ŒåŸºäº ESM</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>é€‚ç”¨äºå¤§å‹å¤æ‚é¡¹ç›®</td><td>é€‚ç”¨äºç°ä»£å‰ç«¯æ¡†æ¶</td></tr><tr><td><strong>æ’ä»¶ç³»ç»Ÿ</strong></td><td>å¼ºå¤§</td><td>ä¾èµ– Rollup</td></tr></tbody></table><p><strong>æ€»ç»“</strong>ï¼šå¦‚æœä½ çš„é¡¹ç›®æ˜¯ <strong>Vue 3ã€React 18</strong>ï¼Œæ¨èä½¿ç”¨ <strong>Vite</strong>ï¼Œå¦‚æœæ˜¯ <strong>å¤§å‹ä¼ä¸šçº§é¡¹ç›®</strong>ï¼ŒWebpack ä»ç„¶æ˜¯æœ€ä½³é€‰æ‹©ã€‚</p><hr><h2 id="å…­ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…­ã€æ€»ç»“" aria-hidden="true">#</a> <strong>å…­ã€æ€»ç»“</strong></h2><h3 id="_1-webpack-æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_1-webpack-æ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true">#</a> <strong>1. Webpack æ ¸å¿ƒæ¦‚å¿µ</strong></h3><ul><li><strong>Entry</strong>ï¼ˆå…¥å£ï¼‰ï¼šæ‰“åŒ…çš„èµ·ç‚¹ã€‚</li><li><strong>Output</strong>ï¼ˆè¾“å‡ºï¼‰ï¼šæŒ‡å®šæ‰“åŒ…åæ–‡ä»¶çš„å­˜æ”¾ä½ç½®ã€‚</li><li><strong>Loaders</strong>ï¼ˆåŠ è½½å™¨ï¼‰ï¼šå¤„ç† JSã€CSSã€å›¾ç‰‡ç­‰èµ„æºã€‚</li><li><strong>Plugins</strong>ï¼ˆæ’ä»¶ï¼‰ï¼šå¢å¼º Webpack åŠŸèƒ½ï¼Œå¦‚ç”Ÿæˆ HTMLã€æ¸…ç†æ–‡ä»¶ç­‰ã€‚</li><li><strong>DevServer</strong>ï¼ˆå¼€å‘æœåŠ¡å™¨ï¼‰ï¼šæ”¯æŒçƒ­æ›´æ–°ï¼Œæé«˜å¼€å‘ä½“éªŒã€‚</li></ul><h3 id="_2-webpack-çš„ä¼˜åŠ¿" tabindex="-1"><a class="header-anchor" href="#_2-webpack-çš„ä¼˜åŠ¿" aria-hidden="true">#</a> <strong>2. Webpack çš„ä¼˜åŠ¿</strong></h3><p>âœ… <strong>é€‚ç”¨äºå¤§å‹é¡¹ç›®</strong> âœ… <strong>å¼ºå¤§çš„æ’ä»¶å’Œ Loader ç”Ÿæ€</strong> âœ… <strong>æ”¯æŒä»£ç åˆ†å‰²ã€Tree Shakingã€æ‡’åŠ è½½ç­‰ä¼˜åŒ–ç­–ç•¥</strong></p><hr><p>å¦‚æœä½ æœ‰æ›´å…·ä½“çš„ Webpack ä½¿ç”¨é—®é¢˜ï¼Œå¯ä»¥éšæ—¶é—®æˆ‘ï¼ğŸš€</p><h1 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> webpack</h1><h2 id="_1-webpack-å…¥å£æ–‡ä»¶é…ç½®-å¤šä¸ªå…¥å£å¦‚ä½•åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#_1-webpack-å…¥å£æ–‡ä»¶é…ç½®-å¤šä¸ªå…¥å£å¦‚ä½•åˆ†å‰²" aria-hidden="true">#</a> <strong>1. Webpack å…¥å£æ–‡ä»¶é…ç½®ï¼Œå¤šä¸ªå…¥å£å¦‚ä½•åˆ†å‰²</strong></h2><p><code>webpack.config.js</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>entry</code> å­—æ®µé…ç½®å•ä¸ªæˆ–å¤šä¸ªå…¥å£ï¼š</p><h3 id="å•å…¥å£" tabindex="-1"><a class="header-anchor" href="#å•å…¥å£" aria-hidden="true">#</a> <strong>å•å…¥å£</strong></h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>module.exports = {
  entry: &quot;./src/index.js&quot;, // å…¥å£æ–‡ä»¶
  output: {
    filename: &quot;bundle.js&quot;,
    path: __dirname + &quot;/dist&quot;
  }
};
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€‚ç”¨äºæ™®é€šå•é¡µåº”ç”¨ï¼ˆSPAï¼‰ã€‚</p><h3 id="å¤šå…¥å£" tabindex="-1"><a class="header-anchor" href="#å¤šå…¥å£" aria-hidden="true">#</a> <strong>å¤šå…¥å£</strong></h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>module.exports = {
  entry: {
    main: &quot;./src/index.js&quot;,
    admin: &quot;./src/admin.js&quot;
  },
  output: {
    filename: &quot;[name].bundle.js&quot;,
    path: __dirname + &quot;/dist&quot;
  }
};
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€‚ç”¨äº<strong>å¤šé¡µé¢åº”ç”¨ï¼ˆMPAï¼‰</strong>ï¼ŒWebpack ä¼šæ ¹æ® <code>entry</code> é…ç½®åˆ†åˆ«æ‰“åŒ…æˆ <code>main.bundle.js</code> å’Œ <code>admin.bundle.js</code>ã€‚</p><h3 id="ä»£ç åˆ†å‰²-code-splitting" tabindex="-1"><a class="header-anchor" href="#ä»£ç åˆ†å‰²-code-splitting" aria-hidden="true">#</a> <strong>ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰</strong></h3><h4 id="_1-åŠ¨æ€å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_1-åŠ¨æ€å¯¼å…¥" aria-hidden="true">#</a> <strong>ï¼ˆ1ï¼‰åŠ¨æ€å¯¼å…¥</strong></h4><p>Webpack æ”¯æŒ <code>import()</code> è¿›è¡Œ<strong>æŒ‰éœ€åŠ è½½</strong>ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>import(&quot;./module.js&quot;).then((module) =&gt; {
  module.default();
});
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ–¹å¼é€‚åˆ<strong>æ‡’åŠ è½½</strong>ï¼Œæ¯”å¦‚è·¯ç”±åŠ¨æ€åŠ è½½ã€‚</p><h4 id="_2-ä½¿ç”¨-webpack-optimization-splitchunks" tabindex="-1"><a class="header-anchor" href="#_2-ä½¿ç”¨-webpack-optimization-splitchunks" aria-hidden="true">#</a> <strong>ï¼ˆ2ï¼‰ä½¿ç”¨ Webpack <code>optimization.splitChunks</code></strong></h4><p>åœ¨ <code>webpack.config.js</code> é‡Œå¼€å¯ä»£ç åˆ†å‰²ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>javascriptå¤åˆ¶ç¼–è¾‘module.exports = {
  optimization: {
    splitChunks: {
      chunks: &quot;all&quot;, // åˆ†å‰²æ‰€æœ‰æ¨¡å—
      minSize: 20000, // æœ€å°åˆ†å‰²ä½“ç§¯
      maxSize: 50000, // æœ€å¤§åˆ†å‰²ä½“ç§¯
      cacheGroups: {
        vendors: {
          test: /[\\\\/]node_modules[\\\\/]/, // æå– node_modules ä»£ç 
          priority: -10
        },
        default: {
          minChunks: 2, // å¤ç”¨ 2 æ¬¡ä»¥ä¸Šæ‰ä¼šè¢«æå–
          priority: -20,
          reuseExistingChunk: true
        }
      }
    }
  }
};
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ · <code>node_modules</code> ä¾èµ–ä¼šè¢«å•ç‹¬æ‰“åŒ…ï¼Œæé«˜æµè§ˆå™¨ç¼“å­˜åˆ©ç”¨ç‡ã€‚</p>`,79),o=[p];function r(i,l){return s(),a("div",null,o)}const d=n(t,[["render",r],["__file","webpack.html.vue"]]);export{d as default};
