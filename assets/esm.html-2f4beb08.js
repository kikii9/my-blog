import{_ as n,o as s,c as a,a as t}from"./app-4b888018.js";const e={},o=t(`<h3 id="esm-es-modules-è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#esm-es-modules-è¯¦è§£" aria-hidden="true">#</a> <strong>ESMï¼ˆES Modulesï¼‰è¯¦è§£</strong></h3><p><strong>ESMï¼ˆECMAScript Modulesï¼‰</strong>ï¼Œå³ <strong>ES6 æ¨¡å—åŒ–</strong>ï¼Œæ˜¯ JavaScript åœ¨ <strong>ECMAScript 2015ï¼ˆES6ï¼‰</strong> è§„èŒƒä¸­å¼•å…¥çš„ <strong>å®˜æ–¹æ ‡å‡†æ¨¡å—åŒ–</strong> æ–¹æ¡ˆã€‚å®ƒæ˜¯ç›®å‰æµè§ˆå™¨å’Œ Node.js éƒ½æ”¯æŒçš„ <strong>æ¨¡å—åŒ–ç³»ç»Ÿ</strong>ï¼Œä¹Ÿæ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„ä¸»æµæ–¹æ¡ˆã€‚</p><hr><h2 id="_1-esm-ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_1-esm-ä»‹ç»" aria-hidden="true">#</a> <strong>1. ESM ä»‹ç»</strong></h2><p>åœ¨ ESM ä¹‹å‰ï¼ŒJavaScript ä¸»è¦ä½¿ç”¨ <strong>CommonJSï¼ˆNode.jsï¼‰</strong> å’Œ <strong>AMD/RequireJSï¼ˆå‰ç«¯ï¼‰</strong> è¿›è¡Œæ¨¡å—åŒ–ï¼Œä½†è¿™äº›æ–¹æ¡ˆéƒ½æœ‰ä¸€å®šçš„ç¼ºé™·ï¼Œæ¯”å¦‚ï¼š</p><ul><li><strong>CommonJS</strong> æ˜¯åŒæ­¥åŠ è½½ï¼Œä¸é€‚ç”¨äºæµè§ˆå™¨ç¯å¢ƒã€‚</li><li><strong>AMD</strong> ä»£ç å¤æ‚ï¼Œå¯è¯»æ€§å·®ã€‚</li><li><strong>æ²¡æœ‰å®˜æ–¹æ ‡å‡†ï¼Œå¯¼è‡´ä¸åŒæ¨¡å—åŒ–æ–¹æ¡ˆä¹‹é—´ä¸å…¼å®¹ã€‚</strong></li></ul><p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œ<strong>ES6 æ¨¡å—åŒ–ï¼ˆESMï¼‰</strong> ä½œä¸ºå®˜æ–¹æ ‡å‡†ï¼ŒåŸç”Ÿæ”¯æŒ <strong>æŒ‰éœ€åŠ è½½ã€é™æ€åˆ†æã€å¼‚æ­¥å¯¼å…¥</strong>ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¿è¡Œåœ¨ <strong>æµè§ˆå™¨</strong> å’Œ <strong>Node.js</strong> ä¸­ã€‚</p><hr><h2 id="_2-esm-è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_2-esm-è¯­æ³•" aria-hidden="true">#</a> <strong>2. ESM è¯­æ³•</strong></h2><h3 id="_1-å¯¼å‡ºæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_1-å¯¼å‡ºæ¨¡å—" aria-hidden="true">#</a> <strong>ï¼ˆ1ï¼‰å¯¼å‡ºæ¨¡å—</strong></h3><p>ESM æä¾›ä¸¤ç§å¯¼å‡ºæ–¹å¼ï¼š</p><ul><li><strong>å‘½åå¯¼å‡ºï¼ˆNamed Exportï¼‰</strong></li><li><strong>é»˜è®¤å¯¼å‡ºï¼ˆDefault Exportï¼‰</strong></li></ul><h4 id="_1-å‘½åå¯¼å‡º-named-export" tabindex="-1"><a class="header-anchor" href="#_1-å‘½åå¯¼å‡º-named-export" aria-hidden="true">#</a> <strong>â‘  å‘½åå¯¼å‡ºï¼ˆNamed Exportï¼‰</strong></h4><p>å…è®¸å¯¼å‡ºå¤šä¸ªå˜é‡ã€å‡½æ•°æˆ–ç±»ï¼Œä½¿ç”¨ <code>{}</code> ç»“æ„å¯¼å…¥ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// math.js - å‘½åå¯¼å‡º</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">subtract</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¼å…¥æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <strong>è§£æ„ <code>{}</code></strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// main.js - å¯¼å…¥æ¨¡å—</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> add<span class="token punctuation">,</span> subtract <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 5</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-é»˜è®¤å¯¼å‡º-default-export" tabindex="-1"><a class="header-anchor" href="#_2-é»˜è®¤å¯¼å‡º-default-export" aria-hidden="true">#</a> <strong>â‘¡ é»˜è®¤å¯¼å‡ºï¼ˆDefault Exportï¼‰</strong></h4><p>ä¸€ä¸ªæ¨¡å—åªèƒ½æœ‰ä¸€ä¸ª <code>export default</code>ï¼Œå¯¼å…¥æ—¶å¯ä»¥ä»»æ„å‘½åï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// greet.js - é»˜è®¤å¯¼å‡º</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¼å…¥æ—¶ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// main.js - å¯¼å…¥é»˜è®¤æ¨¡å—</span>
<span class="token keyword">import</span> greet <span class="token keyword">from</span> <span class="token string">&#39;./greet.js&#39;</span><span class="token punctuation">;</span> <span class="token comment">// è¿™é‡Œå¯ä»¥ä»»æ„å‘½å</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&#39;Alice&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º &quot;Hello, Alice!&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-æ··åˆä½¿ç”¨-named-default" tabindex="-1"><a class="header-anchor" href="#_3-æ··åˆä½¿ç”¨-named-default" aria-hidden="true">#</a> <strong>â‘¢ æ··åˆä½¿ç”¨ï¼ˆNamed + Defaultï¼‰</strong></h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// utils.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> version <span class="token operator">=</span> <span class="token string">&#39;1.0.0&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// main.js</span>
<span class="token keyword">import</span> greet<span class="token punctuation">,</span> <span class="token punctuation">{</span> version<span class="token punctuation">,</span> log <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./utils.js&#39;</span><span class="token punctuation">;</span>

<span class="token function">greet</span><span class="token punctuation">(</span><span class="token string">&#39;Bob&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;Hello, Bob!&quot;</span>
<span class="token function">log</span><span class="token punctuation">(</span>version<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;1.0.0&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_2-å¯¼å…¥æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_2-å¯¼å…¥æ¨¡å—" aria-hidden="true">#</a> <strong>ï¼ˆ2ï¼‰å¯¼å…¥æ¨¡å—</strong></h3><table><thead><tr><th><strong>å¯¼å…¥æ–¹å¼</strong></th><th><strong>ç¤ºä¾‹</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>å‘½åå¯¼å…¥</strong></td><td><code>import { add } from &#39;./math.js&#39;</code></td><td>ä»…å¯¼å…¥ <code>add</code> æ–¹æ³•</td></tr><tr><td><strong>åˆ«åå¯¼å…¥</strong></td><td><code>import { add as sum } from &#39;./math.js&#39;</code></td><td>ä½¿ç”¨ <code>sum</code> ä»£æ›¿ <code>add</code></td></tr><tr><td><strong>é»˜è®¤å¯¼å…¥</strong></td><td><code>import greet from &#39;./greet.js&#39;</code></td><td>åªèƒ½æœ‰ä¸€ä¸ª <code>export default</code></td></tr><tr><td><strong>æ•´ä½“å¯¼å…¥</strong></td><td><code>import * as math from &#39;./math.js&#39;</code></td><td><code>math.add()</code> è®¿é—®å¯¼å‡ºå†…å®¹</td></tr><tr><td><strong>åŠ¨æ€å¯¼å…¥ï¼ˆå¼‚æ­¥ï¼‰</strong></td><td><code>import(&#39;./math.js&#39;).then(module =&gt; {...})</code></td><td>é€‚ç”¨äºæŒ‰éœ€åŠ è½½</td></tr></tbody></table><p>ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> math <span class="token keyword">from</span> <span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½¿ç”¨ math.add</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">subtract</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä½¿ç”¨ math.subtract</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_3-esm-çš„ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#_3-esm-çš„ç‰¹ç‚¹" aria-hidden="true">#</a> <strong>3. ESM çš„ç‰¹ç‚¹</strong></h2><h3 id="âœ…-é™æ€è§£æ" tabindex="-1"><a class="header-anchor" href="#âœ…-é™æ€è§£æ" aria-hidden="true">#</a> <strong>âœ… é™æ€è§£æ</strong></h3><p>ESM <strong>åœ¨ç¼–è¯‘é˜¶æ®µ</strong>ï¼ˆè€Œä¸æ˜¯è¿è¡Œæ—¶ï¼‰è§£ææ¨¡å—ï¼Œå¯ä»¥è¿›è¡Œ <strong>Tree Shakingï¼ˆå»é™¤æ— ç”¨ä»£ç ï¼‰</strong>ï¼Œå‡å°‘æœ€ç»ˆæ‰“åŒ…ä½“ç§¯ï¼Œæé«˜æ€§èƒ½ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// math.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">subtract</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">;</span> <span class="token comment">// åªå¯¼å…¥ add</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ‰“åŒ…æ—¶ï¼Œ<code>subtract()</code> ç”±äºæœªä½¿ç”¨ï¼Œä¼šè¢« <strong>Tree Shaking</strong> åˆ é™¤ï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯ã€‚</p><hr><h3 id="âœ…-åŸç”Ÿæ”¯æŒå¼‚æ­¥åŠ è½½" tabindex="-1"><a class="header-anchor" href="#âœ…-åŸç”Ÿæ”¯æŒå¼‚æ­¥åŠ è½½" aria-hidden="true">#</a> <strong>âœ… åŸç”Ÿæ”¯æŒå¼‚æ­¥åŠ è½½</strong></h3><p>ä¸ CommonJS <strong>åŒæ­¥åŠ è½½</strong> ä¸åŒï¼ŒESM æ”¯æŒ <strong>å¼‚æ­¥åŠ è½½</strong>ï¼Œå¯ä»¥åœ¨éœ€è¦æ—¶åŠ¨æ€å¯¼å…¥æ¨¡å—ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>someCondition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./utils.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">module</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span><span class="token function">default</span><span class="token punctuation">(</span><span class="token string">&#39;Bob&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€‚ç”¨äº <strong>æŒ‰éœ€åŠ è½½</strong>ï¼Œæ¯”å¦‚è·¯ç”±æ‡’åŠ è½½ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">moduleA</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./moduleA.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h3 id="âœ…-é€‚ç”¨äºæµè§ˆå™¨å’Œ-node-js" tabindex="-1"><a class="header-anchor" href="#âœ…-é€‚ç”¨äºæµè§ˆå™¨å’Œ-node-js" aria-hidden="true">#</a> <strong>âœ… é€‚ç”¨äºæµè§ˆå™¨å’Œ Node.js</strong></h3><h4 id="_1ï¸âƒ£-æµè§ˆå™¨åŸç”Ÿæ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-æµè§ˆå™¨åŸç”Ÿæ”¯æŒ" aria-hidden="true">#</a> <strong>1ï¸âƒ£ æµè§ˆå™¨åŸç”Ÿæ”¯æŒ</strong></h4><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>module<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./math.js&#39;</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼ŒESM ä»¥ <strong>å¼‚æ­¥æ–¹å¼åŠ è½½</strong>ï¼Œä¸ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ã€‚</p><h4 id="_2ï¸âƒ£-node-js-ä¸­ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-node-js-ä¸­ä½¿ç”¨" aria-hidden="true">#</a> <strong>2ï¸âƒ£ Node.js ä¸­ä½¿ç”¨</strong></h4><p>åœ¨ <code>package.json</code> ä¸­ <strong>å£°æ˜ ESM æ¨¡å—</strong>ï¼š</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>import</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> readFile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;fs/promises&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">&#39;file.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœ <code>package.json</code> é‡Œæ²¡æœ‰ <code>&quot;type&quot;: &quot;module&quot;</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>.mjs</code> ä½œä¸ºæ‰©å±•åï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">node</span> --experimental-modules main.mjs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><h2 id="_4-esm-vs-commonjs" tabindex="-1"><a class="header-anchor" href="#_4-esm-vs-commonjs" aria-hidden="true">#</a> <strong>4. ESM vs CommonJS</strong></h2><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>ESMï¼ˆES6 Modulesï¼‰</strong></th><th><strong>CommonJS</strong></th></tr></thead><tbody><tr><td><strong>å¯¼å…¥æ–¹å¼</strong></td><td><code>import { } from &#39;file.js&#39;</code></td><td><code>const module = require(&#39;file&#39;)</code></td></tr><tr><td><strong>å¯¼å‡ºæ–¹å¼</strong></td><td><code>export</code> / <code>export default</code></td><td><code>module.exports = {}</code></td></tr><tr><td><strong>æ˜¯å¦å¼‚æ­¥</strong></td><td>âœ… å¼‚æ­¥æ”¯æŒï¼ˆæµè§ˆå™¨ &amp; Node.jsï¼‰</td><td>âŒ åŒæ­¥é˜»å¡ï¼ˆä»…é€‚åˆ Node.jsï¼‰</td></tr><tr><td><strong>é™æ€åˆ†æ</strong></td><td>âœ… æ”¯æŒï¼ˆå¯ Tree Shakingï¼‰</td><td>âŒ ä¸æ”¯æŒ</td></tr><tr><td><strong>é€‚ç”¨ç¯å¢ƒ</strong></td><td>âœ… æµè§ˆå™¨ &amp; Node.js</td><td>âŒ ä»… Node.js</td></tr></tbody></table><hr><h2 id="_5-é€‚ç”¨åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#_5-é€‚ç”¨åœºæ™¯" aria-hidden="true">#</a> <strong>5. é€‚ç”¨åœºæ™¯</strong></h2><table><thead><tr><th><strong>åœºæ™¯</strong></th><th><strong>ä½¿ç”¨ ESM è¿˜æ˜¯ CommonJSï¼Ÿ</strong></th></tr></thead><tbody><tr><td><strong>å‰ç«¯å¼€å‘ï¼ˆReact/Vueï¼‰</strong></td><td>âœ… <strong>ESM</strong>ï¼ŒåŸç”Ÿæ”¯æŒ</td></tr><tr><td><strong>Node.jsï¼ˆæœåŠ¡å™¨ç«¯ï¼‰</strong></td><td>âœ… æ¨è ESMï¼Œä½† CommonJS ä»å¹¿æ³›ä½¿ç”¨</td></tr><tr><td><strong>CLI å·¥å…·å¼€å‘</strong></td><td>âœ… å–å†³äºç¯å¢ƒï¼ŒCommonJS ä½¿ç”¨æ›´å¹¿æ³›</td></tr><tr><td><strong>æ‰“åŒ…ä¼˜åŒ–ï¼ˆTree Shakingï¼‰</strong></td><td>âœ… ä»… ESM æ”¯æŒ</td></tr></tbody></table><hr><h2 id="_6-ç»“è®º" tabindex="-1"><a class="header-anchor" href="#_6-ç»“è®º" aria-hidden="true">#</a> <strong>6. ç»“è®º</strong></h2><ul><li>ESMï¼ˆES6 Modulesï¼‰æ˜¯ JavaScript å®˜æ–¹çš„æ¨¡å—åŒ–æ–¹æ¡ˆï¼Œé€‚ç”¨äº <strong>å‰ç«¯å’Œ Node.js</strong>ã€‚</li><li>ESM é‡‡ç”¨ <code>import</code> å’Œ <code>export</code> è¯­æ³•ï¼Œæ”¯æŒ <strong>Tree Shaking</strong>ï¼Œæå‡æ‰“åŒ…ä¼˜åŒ–èƒ½åŠ›ã€‚</li><li>ç›¸æ¯” CommonJSï¼ŒESM æ”¯æŒ <strong>å¼‚æ­¥åŠ è½½</strong>ï¼Œé€‚åˆæµè§ˆå™¨å’Œç°ä»£ JavaScript é¡¹ç›®ã€‚</li><li><strong>æ¨èå‰ç«¯å¼€å‘ä½¿ç”¨ ESMï¼ŒNode.js ä¹Ÿé€æ­¥è¿ç§»åˆ° ESMã€‚</strong></li></ul><hr><p>å¸Œæœ›è¿™ä¸ªè¯¦ç»†ä»‹ç»èƒ½å¸®ä½ ç†è§£ <strong>ESMï¼ˆES6 Modulesï¼‰</strong>ï¼ğŸš€</p>`,64),p=[o];function c(i,l){return s(),a("div",null,p)}const d=n(e,[["render",c],["__file","esm.html.vue"]]);export{d as default};
